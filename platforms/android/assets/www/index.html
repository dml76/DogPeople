<!DOCTYPE html>
<html ng-app="dogPeople">
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="msapplication-tap-highlight" content="no" />
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=medium-dpi" />
        
        <link href='http://fonts.googleapis.com/css?family=Coustard' rel='stylesheet' type='text/css'>
        <link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
        
        <link rel="stylesheet" type="text/css" href="css/jquery-ui-1.8.18.custom.css" />
        <link rel="stylesheet" type="text/css" href="css/index.css" />
        <link rel="stylesheet" type="text/css" href="font-awesome/css/font-awesome.min.css" />
        <link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrap.min.css" />
        <link rel="stylesheet" type="text/css" href="css/main.css" />
        
        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" src="js/jquery-2.1.3.min.js"></script>
        <script type="text/javascript" src="js/jquery-ui.min.js"></script>
        <script type="text/javascript" src="bootstrap/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="js/angular.min.js"></script>
        <script type="text/javascript" src="js/app.js"></script>
        <script type="text/javascript" src="js/main.js"></script>
        <script type="text/javascript" src="js/scotchPanels.js"></script>
        
        <title>DogPeople</title>
        
        <script type="text/javascript" src="js/ga.js"></script>
        
        <!-- CHECK FOR NETWORK CONNECTION -->
        <script type="text/javascript" charset="utf-8">
 
/*
	        function checkConnection(){
			   var networkState = navigator.connection.type;
			   var states = {};
			   states[Connection.UNKNOWN]  = 'Unknown connection';
			   states[Connection.ETHERNET] = 'Ethernet connection';
			   states[Connection.WIFI]     = 'WiFi connection';
			   states[Connection.CELL_2G]  = 'Cell 2G connection';
			   states[Connection.CELL_3G]  = 'Cell 3G connection';
			   states[Connection.CELL_4G]  = 'Cell 4G connection';
			   states[Connection.CELL]     = 'Cell generic connection';
			   states[Connection.NONE]     = 'No network connection';
			   if(states[networkState].indexOf("WiFi") != -1 || states[networkState].indexOf("Cell") != -1)
			        return true;
			   else return false;
			}
			
			document.addEventListener("deviceready", onDeviceReady, false);
	
			function onDeviceReady() {
				// Now safe to use device APIs
			    var connected = checkConnection();//will return true or false
			
			    function recurringCheck() {
			   		if(connected){
				    	alert('online') //user is online
					} else {
				      	alert('offline') //user is offline
				   	}
				
				    setTimeout(recurringCheck, 5000);
				}	
				recurringCheck();
			}
			
       
*/



/*
// check to see if the network is reachable
setTimeout(function() {
  navigator.network.isReachable("www.google.com",
  networkConnectionCheck, {isIpAddress:false});
}, 5000);

function networkConnectionCheck(reachability) {
  if ( reachability.remoteHostStatus == NetworkStatus.NOT_REACHABLE ) {
    navigator.notification.alert("You appear to be offline.", "DogPeople");
  } else {
	navigator.notification.alert("Everything looks good!", "DogPeople"); 
  }
  
};
*/



/*
	$(document).bind('deviceready', function() {
		alert("Hi");
		connection();
		$('#btnCheck').bind('touchstart'), connection);
	});
	
	
	function connection() {
		switch(navigator.network.connection.type) {
			case Connection.UNKNOWN: $('#checkConnection').attr('title', 'UNKNOWN');break;
			case Connection.ETHERNET: $('#checkConnection').attr('title', 'ETHERNET');break;
			case Connection.WIFI: $('#checkConnection').attr('title', 'WIFI');break;
			case Connection.CELL_2G: $('#checkConnection').attr('title', 'CELL_2G');break;
			case Connection.CELL_3G: $('#checkConnection').attr('title', 'CELL_3G');break;
			case Connection.CELL_4G: $('#checkConnection').attr('title', 'CELL_4G');break;
			case Connection.CELL: $('#checkConnection').attr('title', 'CELL');break;
			case Connection.NONE: $('#checkConnection').attr('title', 'NONE');break;
		}
		var connectionType = $('#checkConnection').attr('title');
		
		$('#checkConnection').attr('title', connectionType);
		$( "#checkConnection" ).replaceWith( "<h1 id='checkConnection' " + "title=" + connectionType + ">" + connectionType + "</h1>" );
		
		function recurringCheck() {
	   		if ($('#checkConnection').attr('title') == "NONE") {
		    	alert('Offline') //user is offline
			} else {
		      	alert('Online') //user is online
		   	}
		
		    setTimeout(recurringCheck, 5000);
		}	
		recurringCheck();
		
	}
*/


	
	
	// WEB BROWSER VERSION
/*
	$(document).ready(function() {
		$('#checkConnection').attr('title', 'UNKNOWN');
		var connectionType = $('#checkConnection').attr('title');
		$('#checkConnection').attr('title', connectionType);
		$( "#checkConnection" ).replaceWith( "<h1 id='checkConnection' " + "title=" + connectionType + ">" + connectionType + "</h1>" );
		
		function recurringCheck() {
	   		if ($('#checkConnection').attr('title') == "NONE") {
		    	alert('Offline') //user is offline
			} else {
		      	alert('Online') //user is online
		   	}
		
		    setTimeout(recurringCheck, 5000);
		}	
		recurringCheck();
				
	});
*/




// PhoneGap is loaded and it is now safe to make calls PhoneGap methods
function onDeviceReady() {
	navigator.network.isReachable("google.com", reachableCallback, {});
}

// Check network status
function reachableCallback(reachability) {
  // There is no consistency on the format of reachability
  var networkState = reachability.code || reachability;
  var states = {};
  states[NetworkStatus.NOT_REACHABLE]                      = 'No network connection';
  states[NetworkStatus.REACHABLE_VIA_CARRIER_DATA_NETWORK] = 'Carrier data connection';
  states[NetworkStatus.REACHABLE_VIA_WIFI_NETWORK]         = 'WiFi connection';
  if (networkState != 0) online = true;
}

var online = navigator.onLine || false;

$(document).ready(function() { 
  $(document).bind('deviceready', function(){
    onDeviceReady()
  })
  // Your main code
  recurringCheck();
})

// Now if you about to make an AJAX call to load up some dynamic data, you can easily check to see if you're online
function recurringCheck() {
	if(online) {
		alert('Online'); // make a request
	} else {
		alert('Offline'); // load from localStorage
	}
	setTimeout(recurringCheck, 5000);
}
recurringCheck();



 </script>


	    
    </head>
    <body>
	    
	     <h1 id="checkConnection">CONNECTION STATUS</h1>
	     <p>Hello, world!</p>
	     <div id="btnCheck">Check Connection</div>
		
        <script type="text/javascript" src="js/cordova.js"></script>
        <script type="text/javascript" src="js/index.js"></script> 
    </body>
</html>